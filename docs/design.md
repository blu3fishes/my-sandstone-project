# MVCMain

<p>
전체적인 코드 플로우는 아래와 같다.

1. main 함수에서는 MainController 객체를 정의한다.

2. MainController에서는 각각의 Controller 객체들을 정의한다.

3. 각각의 Controller 클래스 내부의 생성자에서는 여러 Method들을 실행할때 필요한 Model 들을 정의한다. 이때, 각각의 Method들은 @isMCFunction 태그를 달면 바로 정의가 되므로, 특별한 경우를 제외하면 굳이 실행할 필요가 없다.

4. Static 변수와 같이 여러 Module 들에서 활용되는 변수는 MainModel 내부에 정의되고 사용된다. 즉, MainModel 객체를 선언할 필요가 없다.

# Model

<p>
캐릭터의 스텟에 관여하는 모든 데이터를 모아둔 곳이다.
체력, 근력 등의 스텟과, 이들에 관여되는 Trigger 스탯도 추가를 할 수 있도록 하자.
스탯을 찍었을 때, Trigger 값을 넘겨서 스탯값을 변화시키는 것들 모두 Controller에서 담당한다.

기본적으로 Controller에서 모델을 정의하고, App에서 Controller를 정의 후 실행한다.

메인 모델 싱글턴을 가져와서 스코어보드를 줄이는 역할도 가능하다.
예를 들어, Damage taken Event listener 스코어보드의 경우 싱글턴으로 가져오면 용량 절약이 쉽다.
</p>

# Controller

<p>
각종 비즈니스 로직들이 여기에 모인다. Model 에 있는 정보는 정적인 정보들로써 모여 있다면, 
해당 Model의 값들을 불러와서 사용자의 반응에 따라 처리를 하는 로직들을 담아두는 곳이 Controller이다.

여기서 중요한점은 View, Model과 Controller 중 어느 하나가 바뀌더라도 나머지를 바꿀 필요가 없어야한다. 
그래야 훌륭하게 짠 MVC 패턴이라고 볼 수 있다.

Service는 이번 프로젝트에서는 Controller가 로직을 수행하기 위해 불러오는 여러가지 로직들을 이중으로 담아놓는 공간으로 정의한다. 
예를들어 StatController에 모든 스탯에 관한 로직들을 담아두기엔 코드가 너무 길어지므로 각각의 Stat과 관련된 로직은

HeaStatService, DexStatService 등에 저장된다.

실제로 Service는 인터페이스로 구성된 객체로 불러와서 사용되는 로직이지만 여기서는 그렇게 사용하지는 않았음을 알아두도록 하자.
</p>

# View

<p>
뷰는 실제로 사용자에게 보여주는 시각적 역할을 하는 장치들을 모아둔 곳인데,
이번 프로젝트에서는 해당 패턴으로 구성된 시스템이 게임시스템으로, 사용자에게 보여주는 스킬 이펙트, 사용자에게 보여지는 스탯창 등의 UI 시스템들을 여기에 모두 저장되어 있다.
</p>

# Decorator

<p>
이 부분은 정말! 정말! 중요해서 꼭 읽어야한다. 데코레이터는 클래스, 프로퍼티, 메서드 등에 이전에는 제공하지 않던 방법으로 새로운 기능을 추가할 수 있다. 이때 데코레이터는 해당 엔티티들의 데이터를 수정하기 위해서 엔티티를 정의하기 이전에 실행되기 때문에,

isMCFunction 처럼 한번 감싸서 실행하는 경우 클래스를 정의하지마자 실행된다. 따라서 MainController에서 정의할 필요가 없어지게 된다.

또한, 해당 클래스가 정의되기 전에 실행되기 때문에 언제 Append 되는지 위 사실을 기반으로 예측을 해야한다.
</p>